if(DEFINED ENV{VCPKG_ROOT})
    set(VCPKG_ROOT $ENV{VCPKG_ROOT})
    include("${VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake")
else()
    if(EXISTS "${CMAKE_SOURCE_DIR}/vcpkg/scripts/buildsystems/vcpkg.cmake")
        set(VCPKG_ROOT "${CMAKE_SOURCE_DIR}/vcpkg")
        include("${VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake")
    else()
        message(FATAL_ERROR "VCPKG_ROOT environment variable is not set and vcpkg.cmake not found in source directory.")
    endif()
endif()
